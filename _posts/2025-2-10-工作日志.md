---
category: daily
layout: post_layout
title: 2.10工作日志
time: 2025年1月14日 星期二
location: 杭州
pulished: true
excerpt_separator: "##"
---

Minio 交付遇到的问题：

- [x] /openssl_kes_base.cnf 内容字段需要调整一下

- [x] vault 跟 minio 是否应该分成两个 addon 来部署，目前强依赖

- [ ] ctl.sh 中存在默认值错误，比如 vault 的显示的是 minio 的
- [x] persistentVolumeReclaimPolicy: Recycle 在 1.31+ 已经废弃,https://kubernetes.io/docs/concepts/storage/persistent-volumes#reclaiming

- [ ] 网盘路径可以跟 namespace tenant 之类的有关，比如叫 minio-prod
  由于绑定机制是随机的，所以可能写的是 1/0 ，但是被 0/0 的给绑定上了，这样数据其实无法对应，按照混合 ID 的方式，案例如下：
  /netdata/volume-minio/minio-prod/1ce64be9a2f85c2b

- [ ] minio 需要默认是非网盘部署

- [ ] labels 叫做 app 不合适，如果上述改动已经不需要 label，可以去掉

- [ ] minio 密码 aksk 随机生成

- [ ] minio 基础模板 kes config 格式杂乱 ，可以通过 | 方式

- [ ] minio 还是增加一下亲和性

- [ ] 4.x operator 存在默认访问 operator 证书过期问题，需要升级到 5.x